@import "variables";
@import "navbar";

// Mixins
.clearfix() {
    &:before,
    &:after {
        content: " ";
        display: table;
    }
    &:after {
        clear: both;
    }
}

.text-shadow {
    text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.5);
}

.unselectable {
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

body {
    margin: 0;
    padding: 0;
}

.results-wrapper {
    font: 12px/1.4 Helvetica, Arial, sans-serif;
}

.ballot-measures,
.governor,
.house,
.senate {
    height: 100%;

    table {
        font-weight: 400;
        color:@white;
        border-collapse: separate;
        font-size: 1.2rem;
    }

    .results,
    .results-header {
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p {
            margin-top: 0;
        }
    }

    .results-header {
        font-size: 1.1rem;
        overflow: hidden;
        margin-bottom: 0.5rem;

        .results-title { float: left; }

        h1 {
            font-size: 3rem;
            margin: 0;
            font-family: 'Gotham SSm', Helvetica, Arial, sans-serif;
            text-transform: uppercase;
            font-weight: 700;
            color: #eee;

            .page {
                font-size: 1.3rem;
                font-weight: 400;
                color: #999;
                line-height: 3rem;
                vertical-align: top;
            }
        }

        h4 {
        	text-transform: uppercase;
        	font-weight: normal;
        	color: @grayMedium;
        	font-size: 1.3rem;
        	font-family: "Gotham SSm", "Helvetica Neue", Helvetica, Arial, sans-serif;
        	margin-bottom: .5rem;
        }

        .leaderboard {
            float: right;
            display: table;
        }
    }

    .results  {
        font-size: 0.9rem;
        height: 100%;
        .clearfix();

        .column {
            box-sizing: border-box;
            padding: 0 1%;
            float: left;
            width: 50%;

            &.first {
                padding-left: 0;
            }

            &.last {
                padding-right: 0;
            }
        }

        .poll-closing-group {
            font-size: 0.9rem;
            font-weight: 700;
            letter-spacing: 0.05rem;
            color: @gray-light;
            margin-bottom: 0;

            // Psuedo-border so it works with viewport units
            &:after {
                height: 0.20rem;
                width: 100%;
                display: block;
                background-color: @gray-light;
                content: "";
            }

            .time {
                padding: 0.25rem 0;
                display: inline-block;
            }
        }

        .races {
            width: 100%;
            border-spacing: 0 0.2rem;

            td {
                padding: 0.2rem 0.4rem;
                line-height: 1.1;
            }

            .results-status {
                color: @white;
                width: 12%;

                &.reporting, &.called {
                    color:@yellow;
                    &:after{
                        content: "% in";
                        font-size: 80%;
                        vertical-align: top;
                        margin-left:-.1rem;
                    }
                }

                &.called {
                    color: @gray;
                }
            }
            .pickup{
                width: 4%;
                vertical-align: middle;
                img {
                    width: 100%;
                    height: auto;
                }
            }

            .party-change{
                &:after{
                    font-weight: 500;
                    content: "+1";
                    font-style: italic;
                    font-size: 65%;
                }
                &.dem { color: @blue; }
                &.gop { color: @red; }
                &.other { color: @green; }
            }
            .state {
                text-align: center;
                width: 10%;
                // &.party-change {
                //     color: #fff;
                //     &.dem { background-color: @blue; }
                //     &.gop { background-color: @red; }
                //     &.ind { background-color: @green; }

                // }
                &.dem { color: @blue; }
                &.gop { color: @red; }
                &.other { color: @green; }
            }

            .description {
                width: 48%;
            }

            .choice {
                width: 10%;

                &.no { background: @redDim; }
                &.yes { background: @greenDim; }
            }

            .candidate {
                width: 30%;
                &.dem { background: @blueDim; }
                &.gop { background: @redDim; }
                &.other { background: @greenDim; }

                .party {
                    font-size: 75%;
                    font-weight: normal;
                    letter-spacing: 0.05rem;
                    margin-left: 0.25rem;
                }

                &.incumbent {
                    img {
                        width:.55rem;
                        height: 1rem;
                        vertical-align: top;
                        margin-left: 0.5rem;
                    }
                }
            }

            .candidate-total-spacer {
                width: 0;
                padding: 1px;
            }

            .candidate-total {
                width: 7%;
                text-align: right;
                // padding: 0;
                background: transparent;
                position: relative;

                // .candidate-total-wrapper {
                //     // display: block;
                //     padding: 0.2rem 0.4rem;
                //     margin-right: 1px;
                //     // top: 0;
                //     // bottom: 0;
                //     // left: 0;
                //     // right: 0;
                //     // position: absolute;
                //     height: 100%;
                //     width: 100%;
                //     min-height: 100%;
                // }

                &.dem { background: @blueDim; }
                &.gop,
                &.no { background: @redDim; }
                &.other,
                &.yes { background: @greenDim; }
                &.reporting {
                    &:after{
                        content:"%";
                        font-size: 80%;
                        vertical-align: top;
                    }
                }

                // + .candidate-total .candidate-total-wrapper {
                //     margin-left: 1px;
                //     margin-right: 0;
                // }
            }

            .candidate,
            .candidate-total {
                text-shadow: rgba(0,0,0, 0.8) 0 0 2px;
            }

            .winner {
                color: #fff;

                &.dem { background: @blue; }
                &.gop,
                &.no { background: @red; }
                &.other,
                &.yes { background: @green; }

                &.candidate-total {
                    background: transparent;

                    &.dem { background: @blue; }
                    &.gop,
                    &.no { background: @red; }
                    &.other,
                    &.yes { background: @green; }
                }
            }

            .candidate-total-spacer + .candidate-total {
                text-align: left;
            }

            // .id-5083, .id-19638, .id-18556{
            //     letter-spacing: -0.07rem;
            // }

            .id-22097-IA,
            .id-5083-KY {
                letter-spacing: -0.05rem;
            }
        }

        td{
            &:nth-child(4){
                border-radius: 0.5rem 0 0 0.5rem;
            }
            &:nth-child(5){
                // .candidate-total-wrapper {
                    border-radius: 0 0.5rem 0.5rem 0;
                // }
            }
            &:nth-child(7){
                // .candidate-total-wrapper {
                    border-radius: 0.5rem 0 0 0.5rem;
                // }
            }
            &:nth-child(8){
                border-radius: 0 0.5rem 0.5rem 0;
            }
        }
    }

    .state-slide{
        .header{
            font-size:30px;
            padding-top:20px;
        }
    }
}

.ballot-measures .results .races {
    .description {
        width: 46%;
    }

    .choice {
        width: 11%;
    }

    .state {
        width: 6%;
    }

    td {
        vertical-align: top;
        padding: 0.2rem 0.4rem;
    }
}

/*
 * LEADERBOARD
 */
.results-header-group {
	white-space: nowrap;
	padding: 0 0.75rem 0.07rem;
	display: inline-block;
	overflow: hidden;
	box-sizing: border-box;

	.footer-container & { padding: 0 0.25rem 0.07rem; }

	&:last-child {
		margin-right: 0;
		padding-right: 0;
	}

	.party,
	.seats-needed,
	.total {
		display: inline;
	}

	h2,
	p {
		margin: 0;
		font-size: 1.4rem;
	}

	h2 { font-weight: 500; }

	.change {
		font-size: 1.4rem;
		font-weight: 500;
	}

	.count,
	.percentage {
		border: 0.1rem solid transparent;

		@media screen and (min-width: @screen-sm){
			border-width: 2px;
		}

		display: inline-block;
		box-sizing: border-box;
		min-width: 3rem;
		height: 3rem;
		border-radius: 2rem;
		margin-top: 0;
		padding: 0 0.5rem;
		color: @white;
		font-size: 1.5rem;
		text-align: center;
		line-height: 2.8rem;
		text-shadow: rgba(0,0,0, 0.8) 0 0 2px;
	}

	.seats-needed,
	.total {
		white-space: nowrap;
		text-shadow: none;
	}

	.seats-needed {
		padding-left: 1rem;

		.count { display: inline-block; }
	}

	&.dem {
		color: fadeout(@blue, 25%);

		.count { background: @blueDim; }
		.percentage { background: fadeout(@blue, 25%); }
	}

	&.gop {
		color: fadeout(@red, 25%);

		.count { background: fadeout(@redDim, 25%); }
		.percentage { background: fadeout(@red, 25%); }
	}

	&.other {
		color: fadeout(@green, 25%);

		.percentage { background: fadeout(@green, 25%); }
		.total { padding: 0; }
	}

	&.not-called {
		color: fadeout(@yellow, 25%);

		h2 { display: inline; }

		.count {
			border-color: fadeout(@yellow, 25%);
			color: fadeout(@yellow, 25%);
			text-shadow: none;
		}
	}
}
